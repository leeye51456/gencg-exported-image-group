(this["webpackJsonpgencg-exported-image-group"]=this["webpackJsonpgencg-exported-image-group"]||[]).push([[0],{20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(11),s=n.n(r),i=n(10),l=n(3),o=n.n(l),u=n(6),j=n(2),h=n(4),b=n(12),d=n(13);function m(e){return new Promise((function(t){var n=new d.a;n.open(e,(function(){t(n)}))}))}n(20);var p=n(0),g=function(e,t){return e.name<t.name?-1:1};var O=function(){var e,t=Object(a.useState)(0),n=Object(j.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(0),l=Object(j.a)(s,2),d=l[0],O=l[1],x=Object(a.useState)(0),f=Object(j.a)(x,2),v=f[0],w=f[1],N=Object(a.useState)(!1),D=Object(j.a)(N,2),y=D[0],F=D[1],S=Object(a.useState)([]),C=Object(j.a)(S,2),k=C[0],T=C[1],P=Object(a.useState)(960),M=Object(j.a)(P,2),H=M[0],I=M[1],W=Object(a.useState)(540),A=Object(j.a)(W,2),B=A[0],E=A[1],R=Object(a.useState)("#5e5e5e"),U=Object(j.a)(R,2),G=U[0],J=U[1],L=Object(a.useState)(!0),$=Object(j.a)(L,2),z=$[0],Q=$[1],q=Object(a.useState)("generated"),K=Object(j.a)(q,2),V=K[0],X=K[1],Y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n,a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),t=(new Date).getTime(),n=0,r(0),O(k.length+1),e.next=7,Promise.all(k.map(function(){var e=Object(u.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var c=new FileReader;c.onload=function(){var c=Object(u.a)(o.a.mark((function c(s){var i,l,u,j,b,d,p,g,O,x;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r(n+=.34375),w((new Date).getTime()-t),c.next=5,m(s.target.result);case 5:return i=c.sent,r(n+=.5625),w((new Date).getTime()-t),l=i.getCanvas(),(u=document.createElement("canvas")).width=l.width,u.height=l.height,(j=u.getContext("2d")).fillStyle=G,j.fillRect(-10,-10,u.width+20,u.height+20),j.drawImage(l,0,0,u.width,u.height),c.next=19,h.a.canvasToFile(u,"image/png");case 19:return b=c.sent,c.next=22,Object(h.a)(b,{maxWidthOrHeight:Math.max(H,B)});case 22:return d=c.sent,c.next=25,h.a.getDataUrlFromFile(d);case 25:return p=c.sent,c.next=28,Object(h.a)(b,{maxWidthOrHeight:Math.max(H,B),initialQuality:.9,fileType:"image/jpeg"});case 28:return g=c.sent,c.next=31,h.a.getDataUrlFromFile(g);case 31:O=c.sent,x=Number.parseInt(a.name.replace(/^\D*?(\d+)\.tga$/i,"$1"),10),r(n+=.09375),w((new Date).getTime()-t),p.length-22<=1.1*(O.length-23)?e({pageNumber:x,image:p}):e({pageNumber:x,image:O});case 37:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}(),c.readAsDataURL(a)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:a=e.sent,(c=new b.a({orientation:H>=B?"landscape":"portrait",unit:"pt",format:[H,B]})).deletePage(1),s=Math.min(H,B),a.forEach((function(e,t){var n=e.pageNumber,a=e.image;c.addPage().setFillColor(G).rect(-10,-10,H+20,B+20,"F").addImage(a,0,0,H,B),z&&c.setFont("Helvetica","","Bold").setFontSize(.09375*s).setLineWidth(.015625*s).setDrawColor("#ffffff").setTextColor("#000000").text(String(n||t+1),.9375*H,.0625*B,{align:"right",baseline:"top",renderingMode:"stroke"}).text(String(n||t+1),.9375*H,.0625*B,{align:"right",baseline:"top",renderingMode:"fill"})})),c.save("".concat(V,".pdf")),r(n+=1),w((new Date).getTime()-t),F(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){return e(t.target.value)}},ee=_(I),te=_(E),ne=_(J),ae=_(X),ce=(e=Q,function(t){return e(t.target.checked)});return Object(p.jsxs)("div",{className:"App",onDragOver:function(e){e.preventDefault()},onDrop:function(e){if(e.preventDefault(),e.dataTransfer.items){var t=Object(i.a)(e.dataTransfer.items).reduce((function(e,t){if("file"!==t.kind)return e;var n=t.getAsFile();return(/image\/targa/i.test(n.type)||n.name.endsWith(".tga"))&&e.push(n),e}),[]).sort(g);t.length&&T(t)}},children:[Object(p.jsx)("h1",{children:"GenCG HD\uc5d0\uc11c \ucd94\ucd9c\ud55c \uc774\ubbf8\uc9c0 PDF\ub85c \ubb36\uae30"}),Object(p.jsx)("h2",{children:"1. \uc774\ubbf8\uc9c0 \ud30c\uc77c \uc120\ud0dd"}),Object(p.jsx)("div",{children:Object(p.jsx)("input",{type:"file",accept:"image/x-targa,image/x-tga,.tga",multiple:!0,disabled:y,onChange:function(e){T(Object(i.a)(e.target.files).sort(g))}})}),Object(p.jsxs)("h3",{style:{marginBottom:"0.25rem"},children:["* \ud30c\uc77c ",k.length,"\uac1c \uc120\ud0dd\ub428"]}),Object(p.jsx)("ol",{className:"file-list",style:{marginTop:"0.25rem"},children:k.map((function(e){return Object(p.jsx)("li",{children:e.name},e.name)}))}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{children:"2. \ucd9c\ub825 \uc124\uc815"}),Object(p.jsxs)("ul",{className:"rows",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{className:"col2",children:"\ud30c\uc77c\uba85"}),Object(p.jsxs)("span",{className:"colgroup",children:[Object(p.jsx)("input",{className:"col2",type:"text",value:V,onChange:ae}),Object(p.jsx)("small",{children:".pdf"})]})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{className:"col2",children:"PDF \ud06c\uae30"}),Object(p.jsxs)("span",{className:"colgroup",children:[Object(p.jsx)("input",{className:"col2",type:"number",value:H,onChange:ee}),Object(p.jsx)("span",{className:"gap",children:"x"}),Object(p.jsx)("input",{className:"col2",type:"number",value:B,onChange:te})]})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{className:"col2",children:"\ubc30\uacbd\uc0c9"}),Object(p.jsx)("input",{className:"col2",type:"color",value:G,onChange:ne}),Object(p.jsx)("small",{className:"col2",children:G})]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{className:"col2",children:"\ud398\uc774\uc9c0 \ubc88\ud638 \ud45c\uc2dc"}),Object(p.jsx)("label",{className:"col4",children:Object(p.jsx)("input",{type:"checkbox",checked:z,onChange:ce})})]})]}),Object(p.jsx)("hr",{}),Object(p.jsx)("h2",{children:"3. PDF \uc0dd\uc131"}),Object(p.jsxs)("ul",{children:[Object(p.jsx)("li",{children:"\uc544\uc9c1 \uba54\ubaa8\ub9ac \ucd5c\uc801\ud654\uac00 \uc548 \ub418\uc5b4\uc11c \uba54\ubaa8\ub9ac\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. PDF \uc0dd\uc131 \uc644\ub8cc \ud6c4\uc5d0\ub294 \ucf8c\uc801\ud55c \uae30\uae30 \uc0ac\uc6a9\uc744 \uc704\ud574 \ud0ed\uc744 \ub2eb\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."}),Object(p.jsx)("li",{children:"\ubc30\ud130\ub9ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \ubc30\ud130\ub9ac \uc18c\ubaa8\uac00 \ub9ce\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),Object(p.jsx)("ul",{className:"rows",children:Object(p.jsxs)("li",{children:[Object(p.jsx)("button",{className:"col2",type:"button",disabled:y||0===k.length,onClick:Z,children:"PDF \uc0dd\uc131"}),d>0&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("progress",{className:"col2",value:c,max:d,children:[Math.floor(c/d*100),"%"]}),Object(p.jsxs)("small",{className:"col2",children:[(c/d*100).toFixed(2),"%\uae4c\uc9c0 ",Math.floor(v/1e3),"\ucd08 \uacbd\uacfc"]})]})]})})]})};n(22);s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(O,{})}),document.getElementById("root"))}},[[23,1,3]]]);
//# sourceMappingURL=main.e7d1280f.chunk.js.map