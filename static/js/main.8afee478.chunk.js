(this["webpackJsonpgencg-exported-image-group"]=this["webpackJsonpgencg-exported-image-group"]||[]).push([[0],{20:function(e,t,a){},22:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(11),s=a.n(c),i=a(10),l=a(3),o=a.n(l),u=a(5),j=a(2),h=a(8),b=a(12),d=a(13);function p(e){var t=new d.a;return t.load(e),t.getImageData()}a(20);var m=a(0),g=function(e,t){return e.name<t.name?-1:1};var O=function(){var e,t=Object(n.useState)(0),a=Object(j.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(0),l=Object(j.a)(s,2),d=l[0],O=l[1],x=Object(n.useState)(0),f=Object(j.a)(x,2),v=f[0],w=f[1],y=Object(n.useState)(!1),N=Object(j.a)(y,2),D=N[0],S=N[1],F=Object(n.useState)([]),k=Object(j.a)(F,2),C=k[0],T=k[1],P=Object(n.useState)(960),M=Object(j.a)(P,2),A=M[0],B=M[1],I=Object(n.useState)(540),H=Object(j.a)(I,2),W=H[0],E=H[1],U=Object(n.useState)("#5e5e5e"),G=Object(j.a)(U,2),J=G[0],R=G[1],$=Object(n.useState)(!0),z=Object(j.a)($,2),L=z[0],Q=z[1],q=Object(n.useState)("generated"),K=Object(j.a)(q,2),V=K[0],X=K[1],Y=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a,n,r,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),t=(new Date).getTime(),a=0,c(0),O(C.length+1),e.next=7,Promise.all(C.map(function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var r=new FileReader;r.onload=function(){var r=Object(u.a)(o.a.mark((function r(s){var i,l,u,j,b,d,m,g,O;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(a+=.34375),w((new Date).getTime()-t),r.next=5,p(new Uint8Array(s.target.result));case 5:return i=r.sent,c(a+=.5625),w((new Date).getTime()-t),(l=document.createElement("canvas")).width=i.width,l.height=i.height,(u=l.getContext("2d")).fillStyle=J,u.fillRect(-10,-10,l.width+20,l.height+20),u.putImageData(i,0,0),r.next=18,h.a.canvasToFile(l,"image/png");case 18:return j=r.sent,r.next=21,Object(h.a)(j,{maxWidthOrHeight:Math.max(A,W)});case 21:return b=r.sent,r.t0=Uint8Array,r.next=25,b.arrayBuffer();case 25:return r.t1=r.sent,d=new r.t0(r.t1),r.next=29,Object(h.a)(j,{maxWidthOrHeight:Math.max(A,W),initialQuality:.9,fileType:"image/jpeg"});case 29:return m=r.sent,r.t2=Uint8Array,r.next=33,m.arrayBuffer();case 33:r.t3=r.sent,g=new r.t2(r.t3),O=Number.parseInt(n.name.replace(/^\D*?(\d+)\.tga$/i,"$1"),10),c(a+=.09375),w((new Date).getTime()-t),d.length<=1.1*g.length?e({pageNumber:O,image:d}):e({pageNumber:O,image:g});case 40:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),r.readAsArrayBuffer(n)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:n=e.sent,(r=new b.a({orientation:A>=W?"landscape":"portrait",unit:"pt",format:[A,W]})).deletePage(1),s=Math.min(A,W),n.forEach((function(e,t){var a=e.pageNumber,n=e.image;r.addPage().setFillColor(J).rect(-10,-10,A+20,W+20,"F").addImage(n,0,0,A,W),L&&r.setFont("Helvetica","","Bold").setFontSize(.09375*s).setLineWidth(.015625*s).setDrawColor("#ffffff").setTextColor("#000000").text(String(a||t+1),.9375*A,.0625*W,{align:"right",baseline:"top",renderingMode:"stroke"}).text(String(a||t+1),.9375*A,.0625*W,{align:"right",baseline:"top",renderingMode:"fill"})})),r.save("".concat(V,".pdf")),c(a+=1),w((new Date).getTime()-t),S(!1);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(e){return function(t){return e(t.target.value)}},ee=_(B),te=_(E),ae=_(R),ne=_(X),re=(e=Q,function(t){return e(t.target.checked)});return Object(m.jsxs)("div",{className:"App",onDragOver:function(e){e.preventDefault()},onDrop:function(e){if(e.preventDefault(),e.dataTransfer.items){var t=Object(i.a)(e.dataTransfer.items).reduce((function(e,t){if("file"!==t.kind)return e;var a=t.getAsFile();return(/image\/targa/i.test(a.type)||a.name.endsWith(".tga"))&&e.push(a),e}),[]).sort(g);t.length&&T(t)}},children:[Object(m.jsx)("h1",{children:"GenCG HD\uc5d0\uc11c \ucd94\ucd9c\ud55c \uc774\ubbf8\uc9c0 PDF\ub85c \ubb36\uae30"}),Object(m.jsx)("h2",{children:"1. \uc774\ubbf8\uc9c0 \ud30c\uc77c \uc120\ud0dd"}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{type:"file",accept:"image/x-targa,image/x-tga,.tga",multiple:!0,disabled:D,onChange:function(e){T(Object(i.a)(e.target.files).sort(g))}})}),Object(m.jsxs)("h3",{style:{marginBottom:"0.25rem"},children:["* \ud30c\uc77c ",C.length,"\uac1c \uc120\ud0dd\ub428"]}),Object(m.jsx)("ol",{className:"file-list",style:{marginTop:"0.25rem"},children:C.map((function(e){return Object(m.jsx)("li",{children:e.name},e.name)}))}),Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:"2. \ucd9c\ub825 \uc124\uc815"}),Object(m.jsxs)("ul",{className:"rows",children:[Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:"col2",children:"\ud30c\uc77c\uba85"}),Object(m.jsxs)("span",{className:"colgroup",children:[Object(m.jsx)("input",{className:"col2",type:"text",value:V,onChange:ne}),Object(m.jsx)("small",{children:".pdf"})]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:"col2",children:"PDF \ud06c\uae30"}),Object(m.jsxs)("span",{className:"colgroup",children:[Object(m.jsx)("input",{className:"col2",type:"number",value:A,onChange:ee}),Object(m.jsx)("span",{className:"gap",children:"x"}),Object(m.jsx)("input",{className:"col2",type:"number",value:W,onChange:te})]})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:"col2",children:"\ubc30\uacbd\uc0c9"}),Object(m.jsx)("input",{className:"col2",type:"color",value:J,onChange:ae}),Object(m.jsx)("small",{className:"col2",children:J})]}),Object(m.jsxs)("li",{children:[Object(m.jsx)("span",{className:"col2",children:"\ud398\uc774\uc9c0 \ubc88\ud638 \ud45c\uc2dc"}),Object(m.jsx)("label",{className:"col4",children:Object(m.jsx)("input",{type:"checkbox",checked:L,onChange:re})})]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:"3. PDF \uc0dd\uc131"}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:"\uc544\uc9c1 \uba54\ubaa8\ub9ac \ucd5c\uc801\ud654\uac00 \uc548 \ub418\uc5b4\uc11c \uba54\ubaa8\ub9ac\ub97c \ub9ce\uc774 \uc0ac\uc6a9\ud569\ub2c8\ub2e4. PDF \uc0dd\uc131 \uc644\ub8cc \ud6c4\uc5d0\ub294 \ucf8c\uc801\ud55c \uae30\uae30 \uc0ac\uc6a9\uc744 \uc704\ud574 \ud0ed\uc744 \ub2eb\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4."}),Object(m.jsx)("li",{children:"\ubc30\ud130\ub9ac\ub97c \uc0ac\uc6a9\ud558\ub294 \uacbd\uc6b0 \ubc30\ud130\ub9ac \uc18c\ubaa8\uac00 \ub9ce\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),Object(m.jsx)("ul",{className:"rows",children:Object(m.jsxs)("li",{children:[Object(m.jsx)("button",{className:"col2",type:"button",disabled:D||0===C.length,onClick:Z,children:"PDF \uc0dd\uc131"}),d>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("progress",{className:"col2",value:r,max:d,children:[Math.floor(r/d*100),"%"]}),Object(m.jsxs)("small",{className:"col2",children:[(r/d*100).toFixed(2),"%\uae4c\uc9c0 ",Math.floor(v/1e3),"\ucd08 \uacbd\uacfc"]})]})]})})]})};a(22);s.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root"))}},[[23,1,3]]]);
//# sourceMappingURL=main.8afee478.chunk.js.map